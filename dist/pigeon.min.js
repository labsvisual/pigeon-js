function Pigeon(t,e){if(null==t)return void console.log("The configuration object is null. For the object to instantiate successfully, the initializer requires a configiration object.");if(null==t.method||""===t.method)return void console.log("The 'method' field is invalid. For the object to instantiate successfully, the initializer requires a 'method' field.");if(null==t.action||""===t.action)return void console.log("The 'action' field is invalid. For the object to instantiate successfully, the initializer requires a 'action' field.");if(null==t.prompt)return void console.log("The 'prompt' field is invalid. For the object to instantiate successfully, the initializer requires a 'prompt' field.");if(null==t.formElement||""===t.formElement)return void console.log("The 'formElement' field is invalid. For the object to instantiate successfully, the initializer requires a 'formElement' field.");this.method=t.method||"POST",this.action=t.action||"/contact",this.prompt=t.prompt,this.inputs=[];var r=[];switch(t.formElement.substring(0,1)){case"#":r=document.getElementById(t.formElement.replace("#",""));break;case".":r=document.getElementsByClassName(t.formElement.replace(".",""))[0];break;default:r=document.getElementsByTagName(t.formElement)[0]}this.formElement=r,this.initialize()}String.prototype.startsWith||!function(){"use strict";var t=function(){try{var t={},e=Object.defineProperty,r=e(t,t,t)&&e}catch(i){}return r}(),e={}.toString,r=function(t){if(null==this)throw TypeError();var r=String(this);if(t&&"[object RegExp]"==e.call(t))throw TypeError();var i=r.length,n=String(t),a=n.length,s=arguments.length>1?arguments[1]:void 0,o=s?Number(s):0;o!=o&&(o=0);var l=Math.min(Math.max(o,0),i);if(a+l>i)return!1;for(var h=-1;++h<a;)if(r.charCodeAt(l+h)!=n.charCodeAt(h))return!1;return!0};t?t(String.prototype,"startsWith",{value:r,configurable:!0,writable:!0}):String.prototype.startsWith=r}(),Pigeon.prototype.initialize=function(){for(var t=0;t<this.formElement.elements.length;t++)this.inputs.push(this.formElement.elements[t]);this.attachHandler()},Pigeon.prototype.attachHandler=function(){for(var t=this,e=0;e<this.inputs.length;e++){var r=this.inputs[e];"submit"===r.getAttribute("type").toLowerCase()&&r.addEventListener("click",function(){t.submit()})}},Pigeon.prototype.validate=function(){for(var t=[],e=[],r=0;r<this.inputs.length;r++){var i=this.inputs[r],n=i.getAttribute("data-pigeon-validate");n&&n.toLowerCase().indexOf("required")>-1;if(n)for(var a=n.split(";"),s=0;s<a.length;s++){var o=a[s].split(":"),l=o[0].toLowerCase().trim(),h=i.value;switch(l){case"max-len":var u=o[1].trim();h.length>parseInt(u)&&(t.push('"'+i.name+'" exceeds the provided length constraint.'),e.push(i));break;case"min-len":var u=o[1].trim();h.length<parseInt(u)&&(t.push('"'+i.name+'" is less than the provided length constraint.'),e.push(i));break;case"digits":var c=/^[0-9]*$/;c.test(h)||(t.push('"'+i.name+'" contains invalid characters.'),e.push(i));break;case"digits-space":var c=/^[0-9 ]*$/;c.test(h)||(t.push('"'+i.name+'" contains invalid characters.'),e.push(i));break;case"only-alphabets":var c=/^[a-zA-Z ]*$/;c.test(h)||(t.push('"'+i.name+'" contains invalid characters.'),e.push(i));break;default:case"required":(null==h||""===h)&&(t.push('"'+i.name+'" is required.'),e.push(i));break;case"email":h.indexOf("@")>-1&&h.indexOf(".")>-1||(t.push('"'+i.name+'" is not a valid email address.'),e.push(i));break;case"url":(h.startsWith("http://")||h.startsWith("https://")||h.startsWith("ftp://"))&&h.indexOf(".")>-1||(t.push('"'+i.name+'" is not a valid URL.'),e.push(i));break;case"alphanumeric":var c=/^[a-zA-Z0-9 ]*$/;c.test(h)||(t.push('"'+i.name+'" contains invalid characters.'),e.push(i));break;case"phone":var c=/^[0-9]*$/;(!c.test(h)||h.length>10)&&(t.push('"'+i.name+'" is not a valid phone number.'),e.push(i));break;case"credit-card":var c=/^[0-9]*$/;if(!c.test(h)||h.length>16){t.push('"'+i.name+'" is not a valid credit card number.'),e.push(i);break}for(var p=parseInt(h.substring(h.length-1)),m=h.substring(0,h.length-1),d=[],f=m.length-1;f>=0;f-=2)d.push(2*parseInt(m[f]));for(var f=0;f<d.length;f++){var v=d[f];if(v.toString().length>=2){for(var g=v,b=0;0!=g;){var y=g%10;g-=y,g/=10,b+=y}d[f]=b}}for(var f=m.length-2;f>=0;f-=2)d.push(parseInt(m[f]));for(var b=p,f=0;f<d.length;f++)b+=d[f];b%10!==0&&(t.push('"'+i.name+'" is not a valid credit card number.'),e.push(i))}}}return{isValid:0==t.length&&0==e.length,errors:t,errorElements:e}},Pigeon.prototype.formatParams=function(){for(var t="",e=0;e<this.inputs.length;e++){var r=this.inputs[e];"submit"!==r.getAttribute("type").toLowerCase()&&(t+=encodeURIComponent(r.name)+"="+encodeURIComponent(r.value)+"&")}return t.substring(0,t.length-1)},Pigeon.prototype.submit=function(){var t=this,e=this.validate();if(!e.isValid)for(var r=0;r<e.errors.length;r++){var i=e.errors[r],n=e.errorElements[r];this.prompt(n,i)}var a=t.formatParams(),s=new XMLHttpRequest;s.open(this.method,this.action,!1),s.request="text/json";var o=!1,l={error:function(t){o=!0}};s.addEventListener("error",l.error),s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.send(a),console.log(a)};